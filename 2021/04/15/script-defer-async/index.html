<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>script Tag - defer and async | Donna'Log</title><meta name="author" content="Donna Tang"><meta name="copyright" content="Donna Tang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Regular  TagJS may modify HTML and CSS, so the download and execution of JS cannot run in parallel with HTML&#x2F;CSS. Code Execution Process:  When the HTML parsing process encounters an external JS file">
<meta property="og:type" content="article">
<meta property="og:title" content="script Tag - defer and async">
<meta property="og:url" content="https://donnapersonal.github.io/en/2021/04/15/script-defer-async/index.html">
<meta property="og:site_name" content="Donna&#39;Log">
<meta property="og:description" content="Regular  TagJS may modify HTML and CSS, so the download and execution of JS cannot run in parallel with HTML&#x2F;CSS. Code Execution Process:  When the HTML parsing process encounters an external JS file">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://donnapersonal.github.io/en/img/avatar.JPG">
<meta property="article:published_time" content="2021-04-16T01:42:30.000Z">
<meta property="article:modified_time" content="2025-02-04T22:13:05.125Z">
<meta property="article:author" content="Donna Tang">
<meta property="article:tag" content="HTML">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://donnapersonal.github.io/en/img/avatar.JPG"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "script Tag - defer and async",
  "url": "https://donnapersonal.github.io/en/2021/04/15/script-defer-async/",
  "image": "https://donnapersonal.github.io/en/img/avatar.JPG",
  "datePublished": "2021-04-16T01:42:30.000Z",
  "dateModified": "2025-02-04T22:13:05.125Z",
  "author": [
    {
      "@type": "Person",
      "name": "Donna Tang",
      "url": "https://donnapersonal.github.io/en/"
    }
  ]
}</script><link rel="shortcut icon" href="/en/img/favicon.png"><link rel="canonical" href="https://donnapersonal.github.io/en/2021/04/15/script-defer-async/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/en/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/en/',
  algolia: undefined,
  localSearch: {"path":"/en/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: {"defaultEncoding":3,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"中"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'script Tag - defer and async',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/en/css/style.css"><link rel="stylesheet" href="/en/css/nav_menu.css"><link rel="stylesheet" href="/en/css/layout.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="/en/css/progress_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/img/bg.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/en/img/avatar.JPG" onerror="this.onerror=null;this.src='/en/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/en/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/en/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a><a href="/en/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-home"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-mug-hot"></i><span> Mine</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/reads/"><i class="fa-fw fas fa-book-open-reader"></i><span> Read</span></a></li><li><a class="site-page child" href="/en/experiences/"><i class="fa-fw fas fa-camera"></i><span> Experience</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="https://donnapersonal.github.io/"><i class="fa-fw fas fa-c"></i><span> 中文</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/en/" title="Donna'Log"><span class="site-name">Donna'Log</span></a></span><div class="mask-name-container"><center id="name-container"><a id="page-name" href="javascript:rmf.scrollToTop()">PAGE_NAME</a></center></div><div id="menus"><div class="nav-button" id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="nav-button" id="nav-totop"><a class="totopbtn"><i class="fas fa-arrow-up"></i><span id="percent" onclick="btf.scrollToDest(0,500)">0</span></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-home"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-mug-hot"></i><span> Mine</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/reads/"><i class="fa-fw fas fa-book-open-reader"></i><span> Read</span></a></li><li><a class="site-page child" href="/en/experiences/"><i class="fa-fw fas fa-camera"></i><span> Experience</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="https://donnapersonal.github.io/"><i class="fa-fw fas fa-c"></i><span> 中文</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">script Tag - defer and async</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-04-16T01:42:30.000Z" title="Created 2021-04-15 21:42:30">2021-04-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-02-04T22:13:05.125Z" title="Updated 2025-02-04 17:13:05">2025-02-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/en/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><p><img src="script-defer-async/script.png" alt="script 标签"></p>
<h1 id="Regular-Tag"><a href="#Regular-Tag" class="headerlink" title="Regular  Tag"></a>Regular <script> Tag</h1><p><code>JS</code> may modify <code>HTML</code> and <code>CSS</code>, so the download and execution of <code>JS</code> cannot run in parallel with <code>HTML/CSS</code>.</p>
<p>Code Execution Process:</p>
<ul>
<li>When the <code>HTML</code> parsing process encounters an external <code>JS</code> file, it pauses the <code>HTML</code> parsing.</li>
<li>It then waits for the script to download and parse before continuing the previously interrupted <code>HTML</code> parsing.</li>
</ul>
<p>Consequences of Using the <code>&lt;script&gt;</code> Tagfor External <code>JS</code>:</p>
<ul>
<li><strong>It affects overall page performance. If the network is slow, the entire website will wait for <code>JS</code> to load, preventing further rendering.</strong></li>
<li><strong>Since it interrupts the <code>HTML</code> parsing flow, it can cause blank page delays, impacting user experience.</strong></li>
</ul>
<blockquote>
<p>Previously, a common practice was to place the <code>&lt;script&gt;</code> tag at the end of the <code>&lt;body&gt;</code> to wait for the <code>DOM</code> to be fully parsed before loading <code>JS</code>. </p>
<p>However, <code>HTML5</code> introduced another set of asynchronous loading methods: <code>defer/async</code>.</p>
</blockquote>
<h1 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h1><p>By adding <code>defer=&quot;defer&quot;</code> or simply writing defer inside the <code>&lt;script&gt;</code> tag, you can make the external <code>JS</code> file <code>load asynchronously</code>.</p>
<p>Code Execution Process:</p>
<ul>
<li>When the <code>HTML</code> parsing process encounters an external <code>JS</code> file, it will start <code>downloading the script in a separate thread</code>, but <code>it will not execute it immediately</code>, so it does not block the <code>HTML</code> parsing.</li>
<li>The script execution will wait until the <code>HTML</code> parsing is complete (excluding resources such as images), and then it will be executed before the <code>DOMContentLoaded</code> event is triggered. </li>
<li>Note: The <code>DOMContentLoaded</code> event will wait until all <code>defer</code> scripts have finished executing before being triggered.</li>
</ul>
<p>Important Notes:</p>
<ul>
<li>This method allows writing inline scripts inside the <code>&lt;script&gt;</code> closing tag.</li>
<li>This feature is only supported in <code>IE</code> and some newer versions of Firefox and Chrome.</li>
<li><code>IE6</code> and <code>IE7</code> can handle at most <code>2</code> deferred scripts asynchronously. If there are more than two, the third script will wait until the first two have finished loading before it starts.</li>
<li><strong>All defer scripts are guaranteed to execute in order.</strong></li>
</ul>
<h1 id="async"><a href="#async" class="headerlink" title="async"></a>async</h1><p><code>async</code> is the abbreviation for <code>asynchronous</code>, introduced as part of the <code>HTML5</code> standard.</p>
<p>Code Execution Process:</p>
<ul>
<li>When the <code>HTML</code> parsing process encounters an external <code>JS</code> file with <code>async</code>, it will start downloading the script in a new thread. Once the script finishes downloading, it will immediately execute, interrupting the ongoing <code>HTML</code> parsing.</li>
<li>After the script execution is completed, the <code>HTML</code> parsing process will resume from where it was interrupted.</li>
</ul>
<p>Important Notes:</p>
<ul>
<li>This method works in all browsers except <code>IE6</code> to <code>IE8</code>.</li>
<li>Unlike <code>defer</code>, you cannot write inline scripts inside the <code>&lt;script&gt;</code> tag when using <code>async</code>; it can only reference external scripts. (Although this was the original standard, modern browser engines now allow inline scripts in <code>async</code> tags if no <code>src</code>is specified.)</li>
<li><code>async</code> scripts do not guarantee execution order. Instead, scripts execute in a <code>race</code> condition—whichever script finishes downloading first will execute first, regardless of their order in the document.</li>
</ul>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p><strong>defer and async cannot be used together.</strong> If both <code>async</code> and <code>defer</code> attributes are present in a <code>&lt;script&gt;</code> tag, defer will be ignored, and the browser will follow the behavior dictated by the <code>async</code> attribute.</p>
<h1 id="Compatibility-Strategies"><a href="#Compatibility-Strategies" class="headerlink" title="Compatibility Strategies"></a>Compatibility Strategies</h1><p>Brute-force Method: A common workaround is to use two <code>&lt;script&gt;</code> tags, one with <code>defer</code> and the other with <code>async</code>. However, this method has the following drawbacks:</p>
<ul>
<li>In higher versions of <code>IE</code>, both scripts may be loaded twice, causing conflicts.</li>
<li>Some browsers support neither attribute, leading to a scenario where neither script is loaded.</li>
</ul>
<p>Optimized Approach: A better solution is to dynamically add <code>&lt;script&gt;</code> tags, as per the <code>W3C</code> standard, which states that dynamically added <code>&lt;script&gt;</code> tags are <strong>asynchronous by default</strong>.</p>
<ul>
<li>The <code>src</code> file download happens asynchronously, meaning it does not block subsequent code execution.</li>
<li>This allows the script to be inserted into the DOM <strong>while downloading the resource simultaneously</strong>.</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Note: The readyState if-else condition must be written before script.src = url and appendChild.</span></span><br><span class="line"><span class="comment">// This is because the computer’s execution speed can be very fast, and by the time it reaches script.src = url, the script might have already been fully loaded.</span></span><br><span class="line"><span class="comment">// In this case, readyState would have already changed to loaded, meaning the onreadystatechange event would never be triggered.</span></span><br><span class="line"><span class="comment">// If the callback function is defined inside the script being loaded, it must be wrapped inside an anonymous function.</span></span><br><span class="line"><span class="comment">// This prevents syntax errors due to calling an undeclared function and ensures that the script is fully loaded before execution.</span></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">loadScript</span>(<span class="params">url, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">    script.<span class="property">type</span> = text/javascript;</span><br><span class="line">    <span class="keyword">if</span> (script.<span class="property">readyState</span>) &#123; <span class="comment">// IE 和高版本的 chrome、firefox</span></span><br><span class="line">      script.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (script.<span class="property">readyState</span> === <span class="string">&quot;loaded&quot;</span> || script.<span class="property">readyState</span> === <span class="string">&quot;complete&quot;</span>) &#123;</span><br><span class="line">          script.<span class="property">onreadystatechange</span> = <span class="literal">null</span>;</span><br><span class="line">          callback &amp;&amp; <span class="title function_">callback</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      script.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// safari chrome opera firefox&#125;</span></span><br><span class="line">        callback &amp;&amp; <span class="title function_">callback</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    script.<span class="property">src</span> = url;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(script);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>


</script></h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://donnapersonal.github.io/en">Donna Tang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://donnapersonal.github.io/en/2021/04/15/script-defer-async/">https://donnapersonal.github.io/en/2021/04/15/script-defer-async/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/en/tags/HTML/">HTML</a></div><div class="post-share"><div class="social-share" data-image="/en/img/avatar.JPG" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/en/2021/05/15/line-height/" title="理解 line-height"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">理解 line-height</div></div><div class="info-2"><div class="info-item-1">ConceptAs the name implies, line-height refers to the height of a line of text. Specifically, it is the distance between the baselines of two adjacent lines of text. In the illustration below, the distance between the two red lines represents the line-height (The vertical-align property (top&#x2F;middle&#x2F;baseline&#x2F;bottom) is related to line-height).  The distance between the top and bottom lines within the same line of text is referred to as the content area height, which is...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/en/img/avatar.JPG" onerror="this.onerror=null;this.src='/en/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Donna Tang</div><div class="author-info-description">Learn more! Think more! Do more!</div><div class="site-data"><a href="/en/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/en/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a><a href="/en/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Regular-Tag"><span class="toc-number">1.</span> <span class="toc-text">Regular  Tag&lt;&#x2F;h1&gt;&lt;p&gt;&lt;code&gt;JS&lt;&#x2F;code&gt; may modify &lt;code&gt;HTML&lt;&#x2F;code&gt; and &lt;code&gt;CSS&lt;&#x2F;code&gt;, so the download and execution of &lt;code&gt;JS&lt;&#x2F;code&gt; cannot run in parallel with &lt;code&gt;HTML&#x2F;CSS&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Code Execution Process:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;When the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing process encounters an external &lt;code&gt;JS&lt;&#x2F;code&gt; file, it pauses the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing.&lt;&#x2F;li&gt;
&lt;li&gt;It then waits for the script to download and parse before continuing the previously interrupted &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Consequences of Using the &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; Tagfor External &lt;code&gt;JS&lt;&#x2F;code&gt;:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;It affects overall page performance. If the network is slow, the entire website will wait for &lt;code&gt;JS&lt;&#x2F;code&gt; to load, preventing further rendering.&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Since it interrupts the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing flow, it can cause blank page delays, impacting user experience.&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Previously, a common practice was to place the &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; tag at the end of the &lt;code&gt;&lt;body&gt;&lt;&#x2F;code&gt; to wait for the &lt;code&gt;DOM&lt;&#x2F;code&gt; to be fully parsed before loading &lt;code&gt;JS&lt;&#x2F;code&gt;. &lt;&#x2F;p&gt;
&lt;p&gt;However, &lt;code&gt;HTML5&lt;&#x2F;code&gt; introduced another set of asynchronous loading methods: &lt;code&gt;defer&#x2F;async&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h1 id&#x3D;&quot;defer&quot;&gt;&lt;a href&#x3D;&quot;#defer&quot; class&#x3D;&quot;headerlink&quot; title&#x3D;&quot;defer&quot;&gt;&lt;&#x2F;a&gt;defer&lt;&#x2F;h1&gt;&lt;p&gt;By adding &lt;code&gt;defer&#x3D;&quot;defer&quot;&lt;&#x2F;code&gt; or simply writing defer inside the &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; tag, you can make the external &lt;code&gt;JS&lt;&#x2F;code&gt; file &lt;code&gt;load asynchronously&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Code Execution Process:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;When the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing process encounters an external &lt;code&gt;JS&lt;&#x2F;code&gt; file, it will start &lt;code&gt;downloading the script in a separate thread&lt;&#x2F;code&gt;, but &lt;code&gt;it will not execute it immediately&lt;&#x2F;code&gt;, so it does not block the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing.&lt;&#x2F;li&gt;
&lt;li&gt;The script execution will wait until the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing is complete (excluding resources such as images), and then it will be executed before the &lt;code&gt;DOMContentLoaded&lt;&#x2F;code&gt; event is triggered. &lt;&#x2F;li&gt;
&lt;li&gt;Note: The &lt;code&gt;DOMContentLoaded&lt;&#x2F;code&gt; event will wait until all &lt;code&gt;defer&lt;&#x2F;code&gt; scripts have finished executing before being triggered.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Important Notes:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;This method allows writing inline scripts inside the &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; closing tag.&lt;&#x2F;li&gt;
&lt;li&gt;This feature is only supported in &lt;code&gt;IE&lt;&#x2F;code&gt; and some newer versions of Firefox and Chrome.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;IE6&lt;&#x2F;code&gt; and &lt;code&gt;IE7&lt;&#x2F;code&gt; can handle at most &lt;code&gt;2&lt;&#x2F;code&gt; deferred scripts asynchronously. If there are more than two, the third script will wait until the first two have finished loading before it starts.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;All defer scripts are guaranteed to execute in order.&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id&#x3D;&quot;async&quot;&gt;&lt;a href&#x3D;&quot;#async&quot; class&#x3D;&quot;headerlink&quot; title&#x3D;&quot;async&quot;&gt;&lt;&#x2F;a&gt;async&lt;&#x2F;h1&gt;&lt;p&gt;&lt;code&gt;async&lt;&#x2F;code&gt; is the abbreviation for &lt;code&gt;asynchronous&lt;&#x2F;code&gt;, introduced as part of the &lt;code&gt;HTML5&lt;&#x2F;code&gt; standard.&lt;&#x2F;p&gt;
&lt;p&gt;Code Execution Process:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;When the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing process encounters an external &lt;code&gt;JS&lt;&#x2F;code&gt; file with &lt;code&gt;async&lt;&#x2F;code&gt;, it will start downloading the script in a new thread. Once the script finishes downloading, it will immediately execute, interrupting the ongoing &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing.&lt;&#x2F;li&gt;
&lt;li&gt;After the script execution is completed, the &lt;code&gt;HTML&lt;&#x2F;code&gt; parsing process will resume from where it was interrupted.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Important Notes:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;This method works in all browsers except &lt;code&gt;IE6&lt;&#x2F;code&gt; to &lt;code&gt;IE8&lt;&#x2F;code&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;Unlike &lt;code&gt;defer&lt;&#x2F;code&gt;, you cannot write inline scripts inside the &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; tag when using &lt;code&gt;async&lt;&#x2F;code&gt;; it can only reference external scripts. (Although this was the original standard, modern browser engines now allow inline scripts in &lt;code&gt;async&lt;&#x2F;code&gt; tags if no &lt;code&gt;src&lt;&#x2F;code&gt;is specified.)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;async&lt;&#x2F;code&gt; scripts do not guarantee execution order. Instead, scripts execute in a &lt;code&gt;race&lt;&#x2F;code&gt; condition—whichever script finishes downloading first will execute first, regardless of their order in the document.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1 id&#x3D;&quot;Summary&quot;&gt;&lt;a href&#x3D;&quot;#Summary&quot; class&#x3D;&quot;headerlink&quot; title&#x3D;&quot;Summary&quot;&gt;&lt;&#x2F;a&gt;Summary&lt;&#x2F;h1&gt;&lt;p&gt;&lt;strong&gt;defer and async cannot be used together.&lt;&#x2F;strong&gt; If both &lt;code&gt;async&lt;&#x2F;code&gt; and &lt;code&gt;defer&lt;&#x2F;code&gt; attributes are present in a &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; tag, defer will be ignored, and the browser will follow the behavior dictated by the &lt;code&gt;async&lt;&#x2F;code&gt; attribute.&lt;&#x2F;p&gt;
&lt;h1 id&#x3D;&quot;Compatibility-Strategies&quot;&gt;&lt;a href&#x3D;&quot;#Compatibility-Strategies&quot; class&#x3D;&quot;headerlink&quot; title&#x3D;&quot;Compatibility Strategies&quot;&gt;&lt;&#x2F;a&gt;Compatibility Strategies&lt;&#x2F;h1&gt;&lt;p&gt;Brute-force Method: A common workaround is to use two &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; tags, one with &lt;code&gt;defer&lt;&#x2F;code&gt; and the other with &lt;code&gt;async&lt;&#x2F;code&gt;. However, this method has the following drawbacks:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;In higher versions of &lt;code&gt;IE&lt;&#x2F;code&gt;, both scripts may be loaded twice, causing conflicts.&lt;&#x2F;li&gt;
&lt;li&gt;Some browsers support neither attribute, leading to a scenario where neither script is loaded.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Optimized Approach: A better solution is to dynamically add &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; tags, as per the &lt;code&gt;W3C&lt;&#x2F;code&gt; standard, which states that dynamically added &lt;code&gt;&lt;script&gt;&lt;&#x2F;code&gt; tags are &lt;strong&gt;asynchronous by default&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code&gt;src&lt;&#x2F;code&gt; file download happens asynchronously, meaning it does not block subsequent code execution.&lt;&#x2F;li&gt;
&lt;li&gt;This allows the script to be inserted into the DOM &lt;strong&gt;while downloading the resource simultaneously&lt;&#x2F;strong&gt;.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;figure class&#x3D;&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class&#x3D;&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class&#x3D;&quot;line&quot;&gt;1&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;2&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;3&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;4&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;5&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;6&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;7&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;8&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;9&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;10&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;11&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;12&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;13&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;14&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;15&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;16&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;17&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;18&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;19&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;20&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;21&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;22&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;23&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;24&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;25&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;26&lt;&#x2F;span&gt;&lt;br&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;td&gt;&lt;td class&#x3D;&quot;code&quot;&gt;&lt;pre&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;span class&#x3D;&quot;comment&quot;&gt;&#x2F;&#x2F; Note: The readyState if-else condition must be written before script.src &#x3D; url and appendChild.&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;span class&#x3D;&quot;comment&quot;&gt;&#x2F;&#x2F; This is because the computer’s execution speed can be very fast, and by the time it reaches script.src &#x3D; url, the script might have already been fully loaded.&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;span class&#x3D;&quot;comment&quot;&gt;&#x2F;&#x2F; In this case, readyState would have already changed to loaded, meaning the onreadystatechange event would never be triggered.&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;span class&#x3D;&quot;comment&quot;&gt;&#x2F;&#x2F; If the callback function is defined inside the script being loaded, it must be wrapped inside an anonymous function.&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;span class&#x3D;&quot;comment&quot;&gt;&#x2F;&#x2F; This prevents syntax errors due to calling an undeclared function and ensures that the script is fully loaded before execution.&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;script&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;  &lt;span class&#x3D;&quot;keyword&quot;&gt;function&lt;&#x2F;span&gt; &lt;span class&#x3D;&quot;title function_&quot;&gt;loadScript&lt;&#x2F;span&gt;(&lt;span class&#x3D;&quot;params&quot;&gt;url, callback&lt;&#x2F;span&gt;) &#123;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;    &lt;span class&#x3D;&quot;keyword&quot;&gt;const&lt;&#x2F;span&gt; script &#x3D; &lt;span class&#x3D;&quot;variable language_&quot;&gt;document&lt;&#x2F;span&gt;.&lt;span class&#x3D;&quot;title function_&quot;&gt;createElement&lt;&#x2F;span&gt;(&lt;span class&#x3D;&quot;string&quot;&gt;&quot;script&quot;&lt;&#x2F;span&gt;);&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;    script.&lt;span class&#x3D;&quot;property&quot;&gt;type&lt;&#x2F;span&gt; &#x3D; text&#x2F;javascript;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;    &lt;span class&#x3D;&quot;keyword&quot;&gt;if&lt;&#x2F;span&gt; (script.&lt;span class&#x3D;&quot;property&quot;&gt;readyState&lt;&#x2F;span&gt;) &#123; &lt;span class&#x3D;&quot;comment&quot;&gt;&#x2F;&#x2F; IE 和高版本的 chrome、firefox&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;      script.&lt;span class&#x3D;&quot;property&quot;&gt;onreadystatechange&lt;&#x2F;span&gt; &#x3D; &lt;span class&#x3D;&quot;keyword&quot;&gt;function&lt;&#x2F;span&gt;(&lt;span class&#x3D;&quot;params&quot;&gt;&lt;&#x2F;span&gt;) &#123;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;        &lt;span class&#x3D;&quot;keyword&quot;&gt;if&lt;&#x2F;span&gt; (script.&lt;span class&#x3D;&quot;property&quot;&gt;readyState&lt;&#x2F;span&gt; &#x3D;&#x3D;&#x3D; &lt;span class&#x3D;&quot;string&quot;&gt;&quot;loaded&quot;&lt;&#x2F;span&gt; || script.&lt;span class&#x3D;&quot;property&quot;&gt;readyState&lt;&#x2F;span&gt; &#x3D;&#x3D;&#x3D; &lt;span class&#x3D;&quot;string&quot;&gt;&quot;complete&quot;&lt;&#x2F;span&gt;) &#123;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;          script.&lt;span class&#x3D;&quot;property&quot;&gt;onreadystatechange&lt;&#x2F;span&gt; &#x3D; &lt;span class&#x3D;&quot;literal&quot;&gt;null&lt;&#x2F;span&gt;;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;          callback &amp;&amp; &lt;span class&#x3D;&quot;title function_&quot;&gt;callback&lt;&#x2F;span&gt;();&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;        &#125;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;      &#125;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;    &#125; &lt;span class&#x3D;&quot;keyword&quot;&gt;else&lt;&#x2F;span&gt; &#123;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;      script.&lt;span class&#x3D;&quot;property&quot;&gt;onload&lt;&#x2F;span&gt; &#x3D; &lt;span class&#x3D;&quot;keyword&quot;&gt;function&lt;&#x2F;span&gt;(&lt;span class&#x3D;&quot;params&quot;&gt;&lt;&#x2F;span&gt;) &#123; &lt;span class&#x3D;&quot;comment&quot;&gt;&#x2F;&#x2F; safari chrome opera firefox&#125;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;        callback &amp;&amp; &lt;span class&#x3D;&quot;title function_&quot;&gt;callback&lt;&#x2F;span&gt;();&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;      &#125;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;    &#125;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;    script.&lt;span class&#x3D;&quot;property&quot;&gt;src&lt;&#x2F;span&gt; &#x3D; url;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;    &lt;span class&#x3D;&quot;variable language_&quot;&gt;document&lt;&#x2F;span&gt;.&lt;span class&#x3D;&quot;property&quot;&gt;body&lt;&#x2F;span&gt;.&lt;span class&#x3D;&quot;title function_&quot;&gt;appendChild&lt;&#x2F;span&gt;(script);&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;  &#125;&lt;&#x2F;span&gt;&lt;br&gt;&lt;span class&#x3D;&quot;line&quot;&gt;&lt;&#x2F;script&gt;&lt;&#x2F;span&gt;&lt;br&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;table&gt;&lt;&#x2F;figure&gt;


</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/en/2025/02/04/css-basic/" title="css_basic">css_basic</a><time datetime="2025-02-05T01:48:08.000Z" title="Created 2025-02-04 20:48:08">2025-02-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/en/2021/05/15/line-height/" title="理解 line-height">理解 line-height</a><time datetime="2021-05-15T21:05:49.000Z" title="Created 2021-05-15 17:05:49">2021-05-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/en/2021/04/15/script-defer-async/" title="script Tag - defer and async">script Tag - defer and async</a><time datetime="2021-04-16T01:42:30.000Z" title="Created 2021-04-15 21:42:30">2021-04-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Donna Tang</div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">EN</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/en/js/utils.js"></script><script src="/en/js/main.js"></script><script src="/en/js/tw_cn.js"></script><div class="js-pjax"></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><script data-pjax src="/en/js/nav_menu.js"></script><script data-pjax src="/en/self/btf.js"></script><script data-pjax src="/en/self/ch_en.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/en/404.html')
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/en/js/search/local-search.js"></script></div></div></body></html>