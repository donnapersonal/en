<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>理解 line-height | Donna'Log</title><meta name="author" content="Donna Tang"><meta name="copyright" content="Donna Tang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ConceptAs the name implies, line-height refers to the height of a line of text. Specifically, it is the distance between the baselines of two adjacent lines of text. In the illustration below, the dis">
<meta property="og:type" content="article">
<meta property="og:title" content="理解 line-height">
<meta property="og:url" content="https://donnapersonal.github.io/en/2021/05/15/line-height/index.html">
<meta property="og:site_name" content="Donna&#39;Log">
<meta property="og:description" content="ConceptAs the name implies, line-height refers to the height of a line of text. Specifically, it is the distance between the baselines of two adjacent lines of text. In the illustration below, the dis">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://donnapersonal.github.io/en/img/avatar.JPG">
<meta property="article:published_time" content="2021-05-15T21:05:49.000Z">
<meta property="article:modified_time" content="2025-02-05T01:43:51.189Z">
<meta property="article:author" content="Donna Tang">
<meta property="article:tag" content="CSS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://donnapersonal.github.io/en/img/avatar.JPG"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "理解 line-height",
  "url": "https://donnapersonal.github.io/en/2021/05/15/line-height/",
  "image": "https://donnapersonal.github.io/en/img/avatar.JPG",
  "datePublished": "2021-05-15T21:05:49.000Z",
  "dateModified": "2025-02-05T01:43:51.189Z",
  "author": [
    {
      "@type": "Person",
      "name": "Donna Tang",
      "url": "https://donnapersonal.github.io/en/"
    }
  ]
}</script><link rel="shortcut icon" href="/en/img/favicon.png"><link rel="canonical" href="https://donnapersonal.github.io/en/2021/05/15/line-height/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/en/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/en/',
  algolia: undefined,
  localSearch: {"path":"/en/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: {"defaultEncoding":3,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"中"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '理解 line-height',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/en/css/style.css"><link rel="stylesheet" href="/en/css/nav_menu.css"><link rel="stylesheet" href="/en/css/layout.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="/en/css/progress_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/img/bg.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/en/img/avatar.JPG" onerror="this.onerror=null;this.src='/en/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/en/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/en/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a><a href="/en/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-home"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-mug-hot"></i><span> Mine</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/reads/"><i class="fa-fw fas fa-book-open-reader"></i><span> Read</span></a></li><li><a class="site-page child" href="/en/experiences/"><i class="fa-fw fas fa-camera"></i><span> Experience</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="https://donnapersonal.github.io/"><i class="fa-fw fas fa-c"></i><span> 中文</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/en/" title="Donna'Log"><span class="site-name">Donna'Log</span></a></span><div class="mask-name-container"><center id="name-container"><a id="page-name" href="javascript:rmf.scrollToTop()">PAGE_NAME</a></center></div><div id="menus"><div class="nav-button" id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="nav-button" id="nav-totop"><a class="totopbtn"><i class="fas fa-arrow-up"></i><span id="percent" onclick="btf.scrollToDest(0,500)">0</span></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-home"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-mug-hot"></i><span> Mine</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/reads/"><i class="fa-fw fas fa-book-open-reader"></i><span> Read</span></a></li><li><a class="site-page child" href="/en/experiences/"><i class="fa-fw fas fa-camera"></i><span> Experience</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="https://donnapersonal.github.io/"><i class="fa-fw fas fa-c"></i><span> 中文</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">理解 line-height</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-05-15T21:05:49.000Z" title="Created 2021-05-15 17:05:49">2021-05-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-02-05T01:43:51.189Z" title="Updated 2025-02-04 20:43:51">2025-02-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/en/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><h1 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h1><p>As the name implies, <code>line-height</code> refers to the height of a line of text. Specifically, it is the distance between the <code>baselines</code> of two adjacent lines of text.</p>
<p>In the illustration below, the distance between the two red lines represents the <code>line-height</code> (The <code>vertical-align</code> property (top&#x2F;middle&#x2F;baseline&#x2F;bottom) is related to <code>line-height</code>).</p>
<ul>
<li>The distance between the top and bottom lines within the same line of text is referred to as the <code>content area height</code>, which is determined by the font type and font size. In some fonts, the font size is equal to the content area height.</li>
<li>The distance between the bottom line of the previous line and the top line of the next line is referred to as <code>line spacing</code>.</li>
</ul>
<p>Therefore, <code>line-height = content area height + line spacing</code>.</p>
<blockquote>
<p>When the <code>line-height</code> value is changed, the content area height remains constant, and only the <code>line spacing</code> is adjusted, which in turn affects the total line height.</p>
</blockquote>
<p><img src="line-height/linehight1.png" alt="line-height"></p>
<p>When the half of the line spacing becomes a negative value (i.e., <code>line-height &lt; font-size</code>), the lines will overlap. This can result in the following situation:</p>
<p><img src="line-height/lineheight2.png" alt="When the half of the line spacing becomes a negative value"></p>
<h1 id="line-height-and-Line-Boxs-Height"><a href="#line-height-and-Line-Boxs-Height" class="headerlink" title="line-height and Line Boxs Height"></a>line-height and Line Boxs Height</h1><p>In <code>CSS</code>, two properties affect height: <code>height</code> and <code>line-height</code>.</p>
<ul>
<li>If an element does not have a defined <code>height</code> (including percentage-based heights), its final rendered height will be determined by <code>line-height</code>.</li>
<li>Even in IE6, where the default height is around 11 pixels (a known bug), this behavior remains the same.</li>
</ul>
<p>Scenario: Suppose we have an empty <code>div</code>.</p>
<ul>
<li>If no explicit height is set (greater than 1px), the div height will be 0.</li>
<li>If there is a space or text inside the div, the height is determined by <code>line-height</code>, not the text itself.</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// test1: The div has a font size of 20px but a line-height of 0px → div height = 0px</span></span><br><span class="line"><span class="comment">// test2: The div has a font size of 0px but a line-height of 20px → div height = 20px</span></span><br><span class="line"><span class="comment">// This confirms that the div&#x27;s height is determined by `line-height`, not the text content.</span></span><br><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;test1&quot;</span>&gt;<span class="title class_">Test</span>&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;test2&quot;</span>&gt;</span>Test<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">.<span class="property">test1</span> &#123;</span><br><span class="line">  font-<span class="attr">size</span>: 20px;</span><br><span class="line">  line-<span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">border</span>: 1px solid #cccccc;</span><br><span class="line">  <span class="attr">background</span>: #eeeeee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">test2</span> &#123;</span><br><span class="line">  font-<span class="attr">size</span>: <span class="number">0</span>;</span><br><span class="line">  line-<span class="attr">height</span>: 20px;</span><br><span class="line">  <span class="attr">border</span>: 1px solid #cccccc;</span><br><span class="line">  <span class="attr">background</span>: #eeeeee;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="line-height/lineheight3.png" alt="example1"></p>
<h1 id="Inline-Box-Model"><a href="#Inline-Box-Model" class="headerlink" title="Inline Box Model"></a>Inline Box Model</h1><p><strong>Line box:</strong></p>
<ul>
<li>A virtual rectangular box that consists of <code>inline boxes</code> within the same line</li>
<li>Each line of text forms a separate line box, and if there are multiple lines of content, each line has its own line box.</li>
<li><strong>The height of a line box is the distance from the highest point to the lowest point of the inline boxes within that line.</strong></li>
<li>The line box is composed of top margin, text height, and bottom margin, where the top and bottom margins are equal in size.</li>
</ul>
<p>A <code>&lt;div&gt;</code> without a defined height property has its total height determined by the stacked heights of its <code>line boxes</code>.</p>
<p><strong>Inline box:</strong></p>
<ul>
<li>Each inline element within a <code>line box</code> (e.g., <code>text</code>, <code>img</code>, <code>span</code> elements, and other inline elements) forms an individual <code>inline box</code>.</li>
<li>The height of an <code>inline box</code> is equal to the <code>font-size</code>, meaning that: <strong>Setting line-height does not change the inline box height, but instead affects line spacing</strong>.</li>
</ul>
<p><strong>Containing box:</strong></p>
<ul>
<li>The total height of an element is formed by vertically stacking the heights of all its line boxes.</li>
</ul>
<p><img src="line-height/lineheight4.png" alt="line box"></p>
<p><strong>Content area</strong>：</p>
<ul>
<li>For <code>non-replaced elements</code>, the <code>content area</code> size is determined by <code>font-size</code> and the <code>font itself</code>.</li>
<li>For <code>replaced elements</code> (e.g., <code>img</code>, <code>input</code> fields), the <code>content area</code> is determined by the element’s own <code>width</code> and <code>height</code>.</li>
</ul>
<blockquote>
<p>W3C’s Explanation of the Content Area: CSS 2.1 does not define what the content area of an inline box is (see 10.6.1 above), and thus different UAs (User Agents) may draw the backgrounds and borders in different places.</p>
</blockquote>
<p>Some believe that the height of a line box is determined by the largest line-height within that line. This is incorrect.</p>
<p>For example, in the code below, the largest line-height is 50px, but due to the vertical-align shift (-20px), the actual line box height is greater than 50px.</p>
<blockquote>
<p>The height of a line box is the distance from the highest point to the lowest point of its inline boxes.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=<span class="string">&quot;line-height:30px&quot;</span>&gt;</span><br><span class="line">  <span class="title class_">Inline</span> <span class="title class_">Box</span> <span class="number">1</span>, line height 30px</span><br><span class="line">  &lt;span style=<span class="string">&quot;line-height:50px;background:yellow;vertical-align:-20px&quot;</span>&gt;</span><br><span class="line">    <span class="title class_">Inline</span> <span class="title class_">Box</span> <span class="number">2</span>, line height 50px</span><br><span class="line">  &lt;/span&gt;        </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p><img src="line-height/lineheight5.png" alt="example2"></p>
<h1 id="Line-Box-Height"><a href="#Line-Box-Height" class="headerlink" title="Line Box Height"></a>Line Box Height</h1><p>Browsers calculate the height of each <code>inline box</code> within a <code>line box</code>, but the calculation method differs depending on the type of inline box.</p>
<ul>
<li><p>Replaced elements &amp; inline-* elements</p>
<p>For replaced elements (such as <code>img</code>, <code>input</code>, etc.), <code>inline-*</code> elements, or <code>flexbox</code> children, the height is determined by their <code>margin box</code>.</p>
<p>For <code>inline-block</code> elements, such as a <code>span</code> with &#96;display: inline-block</p>
<ul>
<li>The height is calculated as: <code>height + 2 * margin</code></li>
<li>If height is set to <code>auto</code>, the element’s height equals: <code>line-height + 2 * margin</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  background-<span class="attr">color</span>: #ccc;</span><br><span class="line">  <span class="attr">color</span>: #fff;</span><br><span class="line">&#125;</span><br><span class="line">span &#123;</span><br><span class="line">  <span class="attr">display</span>: inline-block;</span><br><span class="line">  <span class="attr">height</span>: 30px;</span><br><span class="line">  <span class="attr">margin</span>: 10px;</span><br><span class="line">  <span class="attr">background</span>: #fff;</span><br><span class="line">  <span class="attr">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div&gt;xxx&lt;span&gt;xxx&lt;<span class="regexp">/span&gt;xxx&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure>

<p><img src="line-height/lineheight6.png" alt="example3"></p>
</li>
<li><p>Non-replaced elements</p>
<p>For <code>non-replaced elements</code>, the height of an inline box is determined by its <code>line-height</code>, not its <code>content area</code>.</p>
<p>Even if it seems like the <code>content area</code> is affecting the line box height, it is actually <code>line-height</code> controlling it.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  background-<span class="attr">color</span>: #ccc;</span><br><span class="line">  font-<span class="attr">size</span>: 20px;</span><br><span class="line">  <span class="attr">color</span>: #fff;</span><br><span class="line">  font-<span class="attr">family</span>: <span class="title class_">Sana</span>;</span><br><span class="line">&#125;</span><br><span class="line">span &#123;</span><br><span class="line">  <span class="attr">background</span>: #fff;</span><br><span class="line">  <span class="attr">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div&gt;xxx&lt;span&gt;xxx&lt;<span class="regexp">/span&gt;xxx&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure>

<p><img src="line-height/lineheight7.png" alt="example4"></p>
<p><strong>The line box height is determined by the highest and lowest points of all inline boxes in that line.</strong></p>
<p>This calculation includes <code>an invisible element called strut</code>.</p>
</li>
<li><p>The role of strut in line box height</p>
<p>Browsers consider that every line box contains an invisible inline box of width 0, known as <code>strut</code>.</p>
<p><strong><code>strut</code> inherits the <code>line-height</code> from the parent element</strong>, meaning it impacts line box height calculation.</p>
<p>Example: Why is there a gap below an img inside a div?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  <span class="attr">background</span>: #eee; </span><br><span class="line">  <span class="attr">border</span>: 1px solid #<span class="number">000</span>; </span><br><span class="line">  box-<span class="attr">sizing</span>: border-box; </span><br><span class="line">&#125;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./image.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><img src="line-height/lineheight8.png" alt="example5"></p>
<p>By default, the <code>img</code> aligns its <code>bottom</code> with the parent element’s baseline (vertical-align: baseline;).</p>
<p><strong>The baseline is actually set by strut, causing a visible gap.</strong></p>
<p><img src="line-height/lineheight9.png" alt="example6"></p>
<p><code>strut</code> acts like an invisible “x” character in the line box. </p>
<p>Since strut has a line-height, this results in an extra space below the image.</p>
</li>
<li><p>Why does the gap exist?</p>
<ul>
<li>The <code>strut</code> element inherits line-height, affecting layout.</li>
<li>The default <code>vertical-align</code> is <code>baseline</code>.</li>
</ul>
</li>
<li><p>How to fix the gap?</p>
<table>
<thead>
<tr>
<th>解决方案</th>
<th>效果</th>
<th>潜在问题</th>
</tr>
</thead>
<tbody><tr>
<td>Modify strut’s line-height</td>
<td>Reduces inherited space</td>
<td>Must set line-height on the parent element</td>
</tr>
<tr>
<td>Change vertical-align of img</td>
<td>Directly aligns the image correctly</td>
<td>Best approach</td>
</tr>
<tr>
<td>Set display: block; for img</td>
<td>Removes inline-level behavior</td>
<td>Block has no vertical-align attribute，no baseline aligns. Affects surrounding text.</td>
</tr>
</tbody></table>
<p>(1) and (3) point may affect the text layout inside the parent element, so the second approach is the better choice.</p>
</li>
</ul>
<p>Additionally, the <code>margin</code>, <code>padding</code>, and <code>border</code>properties of <code>non-replaced elements</code> do not affect the calculation of line box height.</p>
<p>When an <code>inline-level box</code> has a <code>line-height</code> smaller than its <code>content area</code>, the line box height will be smaller than the content area.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  <span class="attr">background</span>: #eee;</span><br><span class="line">  <span class="attr">border</span>: 1px solid #<span class="number">000</span>;</span><br><span class="line">  box-<span class="attr">sizing</span>: border-box;</span><br><span class="line">  font-<span class="attr">size</span>: 50px;</span><br><span class="line">  line-<span class="attr">height</span>: 10px;</span><br><span class="line">&#125;</span><br><span class="line">span &#123;</span><br><span class="line">  <span class="attr">background</span>: red;</span><br><span class="line">  <span class="attr">margin</span>: 10px;</span><br><span class="line">  <span class="attr">padding</span>: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p><img src="line-height/lineheight10.png" alt="example7"></p>
<p>As a result, the element’s background, padding, and other styles may <code>overflow</code> outside the line box.</p>
<h1 id="Values-and-Inheritance-of-line-height"><a href="#Values-and-Inheritance-of-line-height" class="headerlink" title="Values and Inheritance of line-height"></a>Values and Inheritance of line-height</h1><p><strong>normal (default value)</strong></p>
<p>By default, browsers typically set line-height to <code>1.2</code>, though the exact value may vary depending on the browser and font.</p>
<p>The computed <code>line-height</code> is determined based on the <code>font-size</code> of the element.</p>
<p><code>Child elements do not inherit the computed line-height value from the parent</code>. Instead, they <code>inherit the line-height property itself</code> and <code>calculate their own line-height based on their own font-size</code>.</p>
<p>This means that child elements scale their line-height proportionally to their own font-size rather than the computed value of the parent.</p>
<p><img src="line-height/lineheight11.png" alt="normal"></p>
<p><strong>number (unitless value)</strong></p>
<p>If you want both <code>flexibility</code> (like <code>normal</code>) and a <code>custom value</code>, you can set line-height to a <code>unitless number</code>.</p>
<p>The only difference between number and normal is that:</p>
<ul>
<li>With number, you define the exact multiplier (e.g., 1.5).</li>
<li>With normal, the browser decides the multiplier automatically.</li>
</ul>
<p><code>Child elements inherit the unitless line-height value</code> (e.g., 1.5) and then compute their own line-height based on their own <code>font-size</code>.</p>
<p><img src="line-height/lineheight12.png" alt="number"></p>
<p><strong>inherit</strong></p>
<p>The element <code>inherits the computed line-height value from its parent</code>.</p>
<p>If the parent’s line-height is <code>24px</code>, the child element will also have <code>24px</code> line height, regardless of its font-size.</p>
<p>If any descendant element also sets <code>l</code>ine-height: inherit;&#96;, it will keep using the inherited value from the original parent.</p>
<p><strong>length (fixed pixel value)</strong></p>
<p>Setting <code>line-height</code> to a <code>fixed length</code> (e.g., 20px) makes that element’s line height exactly 20px, <code>independent of font-size</code>.</p>
<p>Unlike number or normal, length values <code>do not scale dynamically with font-size</code>.</p>
<p>Descendant elements will inherit the exact line-height value (20px), unless they explicitly override it.</p>
<p><strong>%</strong></p>
<p>When line-height is set as a percentage, it is calculated <code>based on the element’s own font-size</code>.</p>
<p>Example:</p>
<ul>
<li>If <code>font-size = 16px</code> and <code>line-height = 120%</code>, then: 16 × 120% &#x3D; 19.2px</li>
<li>The computed line-height for this element is 19.2px.</li>
</ul>
<p>The child does not inherit 120%. Instead, it inherits the computed line-height value (19.2px) from the parent.</p>
<p><strong>Summary</strong></p>
<p>| Value Type | line-height ｜Computed line-height | Inherited line-height by Child |<br>| — | — | — | — |<br>| <code>inherit</code> | Parent element’s  line-height | No computation needed | Parent element’s line-height value |<br>| <code>length</code> | 20px | No computation needed | 20px |<br>| <code>%</code> | 120% | Own font-size (16px) × 120% &#x3D; 19.2px | Inherits the computed line-height value of 19.2px from the parent, not 120%. |<br>| <code>normal</code> | 1.2 | Own font-size(16px) * 1.2 &#x3D; 19.2px | Inherit 1.2，line-height &#x3D; own font-size * 1.2 |<br>| <code>number</code> | 1.5 | Own font-size(16px) * 1.5 &#x3D; 24px | Inherit 1.5，line-height &#x3D; own font-size * 1.5 |</p>
<blockquote>
<p><strong>Note:</strong> It is recommended to use a <code>unitless number</code> for <code>line-height</code> instead of the <code>em</code> unit.</p>
<p>This is because <code>em</code> requires a reference value, which is not fixed—different properties may have different reference values.</p>
</blockquote>
<h1 id="Vertical-Centering-of-Line-Height"><a href="#Vertical-Centering-of-Line-Height" class="headerlink" title="Vertical Centering of Line Height"></a>Vertical Centering of Line Height</h1><p>line-height has a special property called <code>vertical centering</code>. The final rendering of line-height is achieved through line boxes. Regardless of how large or small the line boxes are compared to the text, <strong>they always share the same vertical centerline as the text content</strong>.</p>
<p>Looking at the example of test1 in the image above, the line box height is 0, yet it remains symmetrically distributed around the text’s vertical centerline. This important characteristic can be used to achieve vertical alignment of text or images.</p>
<h1 id="Using-line-height-Instead-of-height-to-Avoid-hasLayout-Issues"><a href="#Using-line-height-Instead-of-height-to-Avoid-hasLayout-Issues" class="headerlink" title="Using line-height Instead of height to Avoid hasLayout Issues"></a>Using line-height Instead of height to Avoid hasLayout Issues</h1><p>In some cases, line-height and height can be used interchangeably because they both define a height for an element. However, there is a key difference between them:</p>
<ul>
<li><strong>Using height triggers hasLayout in Internet Explorer (IE), while line-height does not.</strong></li>
</ul>
<p>Previously, in <code>IE6</code>, developers often used <code>height</code> to <code>clear floats</code> because height would <code>trigger hasLayout</code> in IE, ensuring layout correctness. However, in some cases, hasLayout can cause unexpected behavior, and it’s better to avoid it.</p>
<p><strong>Why use line-height instead of height?</strong></p>
<ul>
<li>In IE6&#x2F;7, when an element with inline-block contains a block-level element, and if the block-level element triggers hasLayout, it can cause the container to break out of its expected layout and expand to 100% width.</li>
<li>This issue breaks button layouts that are designed to adjust to text size dynamically.</li>
</ul>
<p><strong>Solution</strong>: Use line-height instead of height to prevent hasLayout from being triggered in IE.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://donnapersonal.github.io/en">Donna Tang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://donnapersonal.github.io/en/2021/05/15/line-height/">https://donnapersonal.github.io/en/2021/05/15/line-height/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/en/tags/CSS/">CSS</a></div><div class="post-share"><div class="social-share" data-image="/en/img/avatar.JPG" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/en/2021/04/15/script-defer-async/" title="script Tag - defer and async"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">script Tag - defer and async</div></div><div class="info-2"><div class="info-item-1"> Regular  TagJS may modify HTML and CSS, so the download and execution of JS cannot run in parallel with HTML/CSS. Code Execution Process:  When the HTML parsing process encounters an external JS file, it pauses the HTML parsing. It then waits for the script to download and parse before continuing the previously interrupted HTML parsing.  Consequences of Using the &lt;script&gt; Tagfor External JS:  It affects overall page performance. If the network is slow, the entire website will wait for...</div></div></div></a><a class="pagination-related  no-desc" href="/en/2025/02/04/css-basic/" title="css_basic"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">css_basic</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/en/img/avatar.JPG" onerror="this.onerror=null;this.src='/en/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Donna Tang</div><div class="author-info-description">Learn more! Think more! Do more!</div><div class="site-data"><a href="/en/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/en/tags/"><div class="headline">Tags</div><div class="length-num">2</div></a><a href="/en/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Concept"><span class="toc-number">1.</span> <span class="toc-text">Concept</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#line-height-and-Line-Boxs-Height"><span class="toc-number">2.</span> <span class="toc-text">line-height and Line Boxs Height</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Inline-Box-Model"><span class="toc-number">3.</span> <span class="toc-text">Inline Box Model</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Line-Box-Height"><span class="toc-number">4.</span> <span class="toc-text">Line Box Height</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Values-and-Inheritance-of-line-height"><span class="toc-number">5.</span> <span class="toc-text">Values and Inheritance of line-height</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vertical-Centering-of-Line-Height"><span class="toc-number">6.</span> <span class="toc-text">Vertical Centering of Line Height</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-line-height-Instead-of-height-to-Avoid-hasLayout-Issues"><span class="toc-number">7.</span> <span class="toc-text">Using line-height Instead of height to Avoid hasLayout Issues</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/en/2025/02/04/css-basic/" title="css_basic">css_basic</a><time datetime="2025-02-05T01:48:08.000Z" title="Created 2025-02-04 20:48:08">2025-02-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/en/2021/05/15/line-height/" title="理解 line-height">理解 line-height</a><time datetime="2021-05-15T21:05:49.000Z" title="Created 2021-05-15 17:05:49">2021-05-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/en/2021/04/15/script-defer-async/" title="script Tag - defer and async">script Tag - defer and async</a><time datetime="2021-04-16T01:42:30.000Z" title="Created 2021-04-15 21:42:30">2021-04-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Donna Tang</div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">EN</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/en/js/utils.js"></script><script src="/en/js/main.js"></script><script src="/en/js/tw_cn.js"></script><div class="js-pjax"></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><script data-pjax src="/en/js/nav_menu.js"></script><script data-pjax src="/en/self/btf.js"></script><script data-pjax src="/en/self/ch_en.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/en/404.html')
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/en/js/search/local-search.js"></script></div></div></body></html>